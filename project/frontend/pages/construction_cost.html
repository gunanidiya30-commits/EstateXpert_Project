<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Construction Cost Estimator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-5">

    <h3 class="mb-4">Construction Cost Estimator</h3>

    <div class="card p-4">
        <div class="mb-3">
            <label class="form-label">Area (sq ft)</label>
            <input type="number" id="area" class="form-control" required>
        </div>

        <div class="mb-3">
            <label class="form-label">Construction Grade</label>
            <select id="grade" class="form-select">
                <option value="basic">Basic</option>
                <option value="standard">Standard</option>
                <option value="premium">Premium</option>
            </select>
        </div>

        <button class="btn btn-primary" onclick="calculateCost()">Calculate Cost</button>
    </div>

    <div class="card mt-4 p-4 d-none" id="resultCard">
        <h5>Cost Breakdown</h5>
        <p>Material Cost: ₹ <span id="materialCost"></span></p>
        <p>Labor Cost: ₹ <span id="laborCost"></span></p>
        <p><strong>Total Cost: ₹ <span id="totalCost"></span></strong></p>
    </div>

<script>
function calculateCost() {
    const area = document.getElementById('area').value;
    const grade = document.getElementById('grade').value;

    fetch('http://localhost:5000/calculate_construction_cost', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
            area_sqft: area,
            construction_grade: grade
        })
    })
    .then(res => res.json())
    .then(data => {
        document.getElementById('materialCost').innerText = data.material_cost.toFixed(2);
        document.getElementById('laborCost').innerText = data.labor_cost.toFixed(2);
        document.getElementById('totalCost').innerText = data.total_cost.toFixed(2);
        document.getElementById('resultCard').classList.remove('d-none');
    });
}
</script>

</body>
</html>
